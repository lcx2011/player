<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å„¿ç«¥è§†é¢‘æ’­æ”¾å™¨æ¼”ç¤º</title>
    <style>
        /* å„¿ç«¥å‹å¥½çš„è§†é¢‘æ’­æ”¾å™¨æ ·å¼ */
        :root {
            --coral-red: #FF6B6B;
            --mint-green: #4ECDC4;
            --sunshine-yellow: #FFE66D;
            --soft-blue: #74B9FF;
            --white: #FFFFFF;
            --dark-gray: #343A40;
            --light-gray: #F8F9FA;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Microsoft YaHei', Arial, sans-serif;
            background: var(--light-gray);
            padding: 20px;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .demo-container {
            max-width: 800px;
            width: 100%;
            background: var(--white);
            border-radius: 16px;
            padding: 24px;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
        }

        .demo-title {
            text-align: center;
            color: var(--dark-gray);
            margin-bottom: 24px;
            font-size: 1.5rem;
        }

        /* è‡ªå®šä¹‰è§†é¢‘æ’­æ”¾å™¨å®¹å™¨ */
        .kids-video-player {
            position: relative;
            width: 100%;
            max-width: 100%;
            background: #000;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2);
        }

        /* è§†é¢‘å…ƒç´  */
        .kids-video-player video {
            width: 100%;
            height: auto;
            display: block;
            min-height: 300px;
        }

        /* éšè—åŸç”Ÿæ§åˆ¶æ  */
        .kids-video-player video::-webkit-media-controls {
            display: none !important;
        }

        /* ä¸­å¤®å¤§æ’­æ”¾æŒ‰é’® */
        .center-play-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(0, 0, 0, 0.3);
            opacity: 1;
            transition: opacity 0.3s ease;
            cursor: pointer;
        }

        .center-play-overlay.hidden {
            opacity: 0;
            pointer-events: none;
        }

        .big-play-btn {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            background: var(--coral-red);
            border: none;
            color: var(--white);
            font-size: 3rem;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 16px rgba(255, 107, 107, 0.4);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .big-play-btn:hover {
            transform: scale(1.1);
            background: #ff5252;
        }

        .big-play-btn:active {
            transform: scale(0.95);
        }

        /* åº•éƒ¨æ§åˆ¶æ  */
        .controls-bar {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(transparent, rgba(0, 0, 0, 0.8));
            padding: 16px 20px 20px;
            transform: translateY(100%);
            transition: transform 0.3s ease;
        }

        .kids-video-player:hover .controls-bar,
        .controls-bar.show {
            transform: translateY(0);
        }

        .controls-row {
            display: flex;
            align-items: center;
            gap: 16px;
            margin-bottom: 12px;
        }

        /* æ§åˆ¶æŒ‰é’® */
        .control-btn {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            border: none;
            background: var(--white);
            color: var(--dark-gray);
            font-size: 1.5rem;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
        }

        .control-btn:hover {
            transform: scale(1.1);
            background: var(--sunshine-yellow);
        }

        .control-btn:active {
            transform: scale(0.9);
        }

        /* è¿›åº¦æ¡å®¹å™¨ */
        .progress-container {
            flex: 1;
            margin: 0 16px;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 4px;
            position: relative;
            cursor: pointer;
            margin-bottom: 8px;
        }

        .progress-fill {
            height: 100%;
            background: var(--coral-red);
            border-radius: 4px;
            width: 0%;
            transition: width 0.1s ease;
            position: relative;
        }

        .progress-thumb {
            position: absolute;
            right: -6px;
            top: 50%;
            transform: translateY(-50%);
            width: 16px;
            height: 16px;
            background: var(--white);
            border-radius: 50%;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
            opacity: 0;
            transition: opacity 0.2s ease;
        }

        .progress-bar:hover .progress-thumb {
            opacity: 1;
        }

        /* æ—¶é—´æ˜¾ç¤º */
        .time-display {
            display: flex;
            justify-content: space-between;
            color: var(--white);
            font-size: 0.9rem;
            font-weight: 600;
        }

        /* å­—å¹•æŒ‰é’® */
        .subtitle-btn {
            background: var(--sunshine-yellow) !important;
            color: var(--dark-gray) !important;
            position: relative;
        }

        .subtitle-btn:hover {
            background: #ffd93d !important;
        }

        .subtitle-btn.active {
            background: var(--coral-red) !important;
            color: var(--white) !important;
        }

        .subtitle-icon {
            font-weight: bold;
            font-size: 1.2rem;
            font-family: 'Microsoft YaHei', sans-serif;
        }

        /* éŸ³é‡æ§åˆ¶ */
        .volume-controls {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .volume-icon-btn {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            border: none;
            background: rgba(255, 255, 255, 0.2);
            color: var(--white);
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .volume-icon-btn:hover {
            background: var(--mint-green);
            transform: scale(1.1);
        }

        .volume-slider-container {
            position: relative;
        }

        .volume-slider {
            width: 80px;
            height: 6px;
            border-radius: 3px;
            background: rgba(255, 255, 255, 0.3);
            outline: none;
            cursor: pointer;
            -webkit-appearance: none;
            appearance: none;
        }

        .volume-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: var(--white);
            cursor: pointer;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
            transition: all 0.2s ease;
        }

        .volume-slider::-webkit-slider-thumb:hover {
            transform: scale(1.2);
            background: var(--mint-green);
        }

        .volume-slider::-moz-range-thumb {
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: var(--white);
            cursor: pointer;
            border: none;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        /* å…¨å±æŒ‰é’® */
        .fullscreen-btn {
            background: var(--soft-blue) !important;
            color: var(--white) !important;
        }

        /* åŠ è½½çŠ¶æ€ */
        .loading-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: var(--white);
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
        }

        .loading-overlay.show {
            opacity: 1;
            pointer-events: all;
        }

        .loading-spinner {
            width: 40px;
            height: 40px;
            border: 4px solid rgba(255, 255, 255, 0.3);
            border-top: 4px solid var(--coral-red);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 16px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 768px) {
            .controls-row {
                gap: 12px;
            }
            
            .control-btn {
                width: 44px;
                height: 44px;
                font-size: 1.3rem;
            }
            
            .big-play-btn {
                width: 80px;
                height: 80px;
                font-size: 2.5rem;
            }
            
            .volume-controls {
                gap: 8px;
            }
            
            .volume-icon-btn {
                width: 36px;
                height: 36px;
                font-size: 1rem;
            }
            
            .volume-slider {
                width: 60px;
            }
        }

        /* æ¼”ç¤ºè¯´æ˜ */
        .demo-info {
            margin-top: 24px;
            padding: 16px;
            background: var(--light-gray);
            border-radius: 8px;
            color: var(--dark-gray);
            line-height: 1.6;
        }

        .demo-info h3 {
            color: var(--coral-red);
            margin-bottom: 8px;
        }
    </style>
</head>
<body>
    <div class="demo-container">
        <h1 class="demo-title">ğŸ¬ å„¿ç«¥å‹å¥½è§†é¢‘æ’­æ”¾å™¨</h1>
        
        <div class="kids-video-player" id="videoPlayer">
            <!-- è§†é¢‘å…ƒç´  -->
            <video id="videoElement" preload="metadata">
                <source src="https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4" type="video/mp4">
                æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒè§†é¢‘æ’­æ”¾ã€‚
            </video>
            
            <!-- ä¸­å¤®æ’­æ”¾æŒ‰é’® -->
            <div class="center-play-overlay" id="centerPlayOverlay">
                <button class="big-play-btn" id="bigPlayBtn">â–¶ï¸</button>
            </div>
            
            <!-- åŠ è½½çŠ¶æ€ -->
            <div class="loading-overlay" id="loadingOverlay">
                <div class="loading-spinner"></div>
                <div>æ­£åœ¨åŠ è½½è§†é¢‘...</div>
            </div>
            
            <!-- æ§åˆ¶æ  -->
            <div class="controls-bar" id="controlsBar">
                <div class="controls-row">
                    <!-- æ’­æ”¾/æš‚åœ -->
                    <button class="control-btn" id="playPauseBtn">â–¶ï¸</button>
                    
                    <!-- è¿›åº¦æ¡ -->
                    <div class="progress-container">
                        <div class="progress-bar" id="progressBar">
                            <div class="progress-fill" id="progressFill">
                                <div class="progress-thumb"></div>
                            </div>
                        </div>
                        <div class="time-display">
                            <span id="currentTime">0:00</span>
                            <span id="duration">0:00</span>
                        </div>
                    </div>
                    
                    <!-- å­—å¹•å¼€å…³ -->
                    <button class="control-btn subtitle-btn" id="subtitleBtn" title="å­—å¹•å¼€å…³">
                        <span class="subtitle-icon">å­—</span>
                    </button>
                    
                    <!-- éŸ³é‡æ§åˆ¶ -->
                    <div class="volume-controls">
                        <button class="volume-icon-btn" id="volumeIcon">ğŸ”Š</button>
                        <div class="volume-slider-container">
                            <input type="range" class="volume-slider" id="volumeSlider" min="0" max="100" value="70">
                        </div>
                    </div>
                    
                    <!-- å…¨å± -->
                    <button class="control-btn fullscreen-btn" id="fullscreenBtn">â›¶</button>
                </div>
            </div>
        </div>
        
        <div class="demo-info">
            <h3>âœ¨ å„¿ç«¥å‹å¥½ç‰¹æ€§</h3>
            <ul>
                <li>ğŸ¯ <strong>å¤§æŒ‰é’®è®¾è®¡</strong> - æ‰€æœ‰æŒ‰é’®è‡³å°‘44pxï¼Œæ–¹ä¾¿å°æ‰‹æŒ‡æ“ä½œ</li>
                <li>ğŸ¨ <strong>å½©è‰²è§†è§‰</strong> - ä½¿ç”¨æ˜äº®çš„çŠç‘šçº¢ã€è–„è·ç»¿ç­‰å„¿ç«¥å‹å¥½è‰²å½©</li>
                <li>ğŸ”Š <strong>ç®€åŒ–éŸ³é‡</strong> - ä¸‰æ¡£éŸ³é‡é€‰æ‹©ï¼Œé¿å…å¤æ‚çš„æ»‘å—æ“ä½œ</li>
                <li>â¯ï¸ <strong>ä¸­å¤®æ’­æ”¾</strong> - å¤§å‹æ’­æ”¾æŒ‰é’®ï¼Œç‚¹å‡»åŒºåŸŸæ›´å¤§</li>
                <li>ğŸ“± <strong>è§¦æ‘¸å‹å¥½</strong> - æ‚¬åœæ•ˆæœå’Œç‚¹å‡»åé¦ˆï¼Œé€‚åˆè§¦å±è®¾å¤‡</li>
                <li>ğŸ¬ <strong>è‡ªåŠ¨éšè—</strong> - æ’­æ”¾æ—¶æ§åˆ¶æ è‡ªåŠ¨éšè—ï¼Œä¸“æ³¨è§‚çœ‹ä½“éªŒ</li>
            </ul>
        </div>
    </div>

    <script>
        class KidsVideoPlayer {
            constructor(container) {
                this.container = container;
                this.video = container.querySelector('#videoElement');
                this.centerPlayOverlay = container.querySelector('#centerPlayOverlay');
                this.bigPlayBtn = container.querySelector('#bigPlayBtn');
                this.controlsBar = container.querySelector('#controlsBar');
                this.playPauseBtn = container.querySelector('#playPauseBtn');
                this.progressBar = container.querySelector('#progressBar');
                this.progressFill = container.querySelector('#progressFill');
                this.currentTimeEl = container.querySelector('#currentTime');
                this.durationEl = container.querySelector('#duration');
                this.volumeIcon = container.querySelector('#volumeIcon');
                this.volumeSlider = container.querySelector('#volumeSlider');
                this.subtitleBtn = container.querySelector('#subtitleBtn');
                this.fullscreenBtn = container.querySelector('#fullscreenBtn');
                this.loadingOverlay = container.querySelector('#loadingOverlay');
                
                this.isPlaying = false;
                this.isDragging = false;
                this.hideControlsTimeout = null;
                
                this.init();
            }
            
            init() {
                this.bindEvents();
                this.updateDuration();
            }
            
            bindEvents() {
                // æ’­æ”¾/æš‚åœäº‹ä»¶
                this.bigPlayBtn.addEventListener('click', () => this.togglePlay());
                this.playPauseBtn.addEventListener('click', () => this.togglePlay());
                this.video.addEventListener('click', () => this.togglePlay());
                
                // è¿›åº¦æ¡äº‹ä»¶
                this.progressBar.addEventListener('click', (e) => this.seekTo(e));
                this.progressBar.addEventListener('mousedown', () => this.isDragging = true);
                document.addEventListener('mouseup', () => this.isDragging = false);
                this.progressBar.addEventListener('mousemove', (e) => {
                    if (this.isDragging) this.seekTo(e);
                });
                
                // éŸ³é‡æ§åˆ¶
                this.volumeSlider.addEventListener('input', (e) => this.updateVolume(e));
                this.volumeIcon.addEventListener('click', () => this.toggleMute());
                
                // å­—å¹•å¼€å…³
                this.subtitleBtn.addEventListener('click', () => this.toggleSubtitle());
                
                // å…¨å±
                this.fullscreenBtn.addEventListener('click', () => this.toggleFullscreen());
                
                // è§†é¢‘äº‹ä»¶
                this.video.addEventListener('loadstart', () => this.showLoading());
                this.video.addEventListener('canplay', () => this.hideLoading());
                this.video.addEventListener('timeupdate', () => this.updateProgress());
                this.video.addEventListener('loadedmetadata', () => this.updateDuration());
                this.video.addEventListener('play', () => this.onPlay());
                this.video.addEventListener('pause', () => this.onPause());
                this.video.addEventListener('ended', () => this.onEnded());
                
                // æ§åˆ¶æ è‡ªåŠ¨éšè—
                this.container.addEventListener('mouseenter', () => this.showControls());
                this.container.addEventListener('mouseleave', () => this.hideControls());
                this.container.addEventListener('mousemove', () => this.showControls());
            }
            
            togglePlay() {
                if (this.video.paused) {
                    this.video.play();
                } else {
                    this.video.pause();
                }
            }
            
            onPlay() {
                this.isPlaying = true;
                this.playPauseBtn.textContent = 'â¸ï¸';
                this.centerPlayOverlay.classList.add('hidden');
                this.hideControls();
            }
            
            onPause() {
                this.isPlaying = false;
                this.playPauseBtn.textContent = 'â–¶ï¸';
                this.showControls();
            }
            
            onEnded() {
                this.isPlaying = false;
                this.playPauseBtn.textContent = 'â–¶ï¸';
                this.centerPlayOverlay.classList.remove('hidden');
                this.bigPlayBtn.textContent = 'ğŸ”„';
                this.showControls();
            }
            
            seekTo(e) {
                const rect = this.progressBar.getBoundingClientRect();
                const percent = (e.clientX - rect.left) / rect.width;
                const time = percent * this.video.duration;
                this.video.currentTime = time;
            }
            
            updateProgress() {
                if (!this.isDragging && this.video.duration) {
                    const percent = (this.video.currentTime / this.video.duration) * 100;
                    this.progressFill.style.width = `${percent}%`;
                    this.currentTimeEl.textContent = this.formatTime(this.video.currentTime);
                }
            }
            
            updateDuration() {
                if (this.video.duration) {
                    this.durationEl.textContent = this.formatTime(this.video.duration);
                }
            }
            
            updateVolume(e) {
                const volume = e.target.value / 100;
                this.video.volume = volume;
                this.updateVolumeIcon(volume);
            }
            
            toggleMute() {
                if (this.video.volume > 0) {
                    this.video.volume = 0;
                    this.volumeSlider.value = 0;
                } else {
                    this.video.volume = 0.7;
                    this.volumeSlider.value = 70;
                }
                this.updateVolumeIcon(this.video.volume);
            }
            
            updateVolumeIcon(volume) {
                if (volume === 0) {
                    this.volumeIcon.textContent = 'ğŸ”‡';
                } else if (volume < 0.5) {
                    this.volumeIcon.textContent = 'ğŸ”‰';
                } else {
                    this.volumeIcon.textContent = 'ğŸ”Š';
                }
            }
            
            toggleSubtitle() {
                this.subtitleBtn.classList.toggle('active');
                // è¿™é‡Œåªæ˜¯UIæ¼”ç¤ºï¼Œå®é™…åŠŸèƒ½éœ€è¦åç«¯æ”¯æŒ
                console.log('å­—å¹•å¼€å…³åˆ‡æ¢:', this.subtitleBtn.classList.contains('active'));
            }
            
            toggleFullscreen() {
                if (!document.fullscreenElement) {
                    this.container.requestFullscreen();
                } else {
                    document.exitFullscreen();
                }
            }
            
            showControls() {
                this.controlsBar.classList.add('show');
                clearTimeout(this.hideControlsTimeout);
                
                if (this.isPlaying) {
                    this.hideControlsTimeout = setTimeout(() => {
                        this.hideControls();
                    }, 3000);
                }
            }
            
            hideControls() {
                if (this.isPlaying) {
                    this.controlsBar.classList.remove('show');
                }
            }
            
            showLoading() {
                this.loadingOverlay.classList.add('show');
            }
            
            hideLoading() {
                this.loadingOverlay.classList.remove('show');
            }
            
            formatTime(seconds) {
                const mins = Math.floor(seconds / 60);
                const secs = Math.floor(seconds % 60);
                return `${mins}:${secs.toString().padStart(2, '0')}`;
            }
        }
        
        // åˆå§‹åŒ–æ’­æ”¾å™¨
        document.addEventListener('DOMContentLoaded', () => {
            const playerContainer = document.getElementById('videoPlayer');
            new KidsVideoPlayer(playerContainer);
        });
    </script>
</body>
</html>